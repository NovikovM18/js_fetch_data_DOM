{"version":3,"sources":["scripts/main.js"],"names":["BASE_URL","bodyTag","document","querySelector","style","display","insertAdjacentHTML","table","getElementById","request","url","fetch","then","response","json","getPhones","getPhonesDetails","phoneUrl","data","ok","setTimeout","Error","status","map","phone","id","phoneDetails","android","os","images"],"mappings":";AAAA,aAEA,IAAMA,EAAW,yDACXC,EAAUC,SAASC,cAAc,QAEvCD,SAASC,cAAc,MAAMC,MAAMC,QAAU,OAE7CJ,EAAQK,mBAAmB,aAA3B,8DAKA,IAAMC,EAAQL,SAASM,eAAe,gBAChCC,EAAU,WAACC,IAAAA,EAAM,UAAA,OAAA,QAAA,IAAA,UAAA,GAAA,UAAA,GAAA,GACdC,OAAAA,MAASX,GAAAA,OAAAA,EAAqBU,cAAAA,OAAAA,EAA9B,UACJE,KAAK,SAACC,GACEA,OAAAA,EAASC,UAIhBC,EAAY,WAAMN,OAAAA,KAElBO,EAAmB,SAACC,GAAaR,OAAAA,EAAYQ,IAAAA,OAAAA,KAEnDF,IACGH,KAAK,SAAAM,GACCA,EAAKC,IACRC,WAAW,WACFC,OAAAA,MAASH,GAAAA,OAAAA,EAAKI,OAArB,kBACC,KAGLJ,EAAKK,IAAI,SAAAC,GACPR,EAAiBQ,EAAMC,IACpBb,KAAK,SAAAc,GACJnB,EAAMD,mBAAmB,YAEfoB,2BAAAA,OAAAA,EAAaD,GACbC,8BAAAA,OAAAA,EAAaC,QAAQC,GACZ5B,sCAAAA,OAAAA,GAAW0B,OAAAA,EAAaG,OAAO,GAJlD","file":"main.7131b725.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\n\nconst BASE_URL = 'https://mate-academy.github.io/phone-catalogue-static/';\nconst bodyTag = document.querySelector('body');\n\ndocument.querySelector('h1').style.display = 'none';\n\nbodyTag.insertAdjacentHTML('afterbegin',\n  `<table>\n    <tbody id=\"listOfPhones\"></tbody>\n  </table>`);\n\nconst table = document.getElementById('listOfPhones');\nconst request = (url = '') => {\n  return fetch(`${BASE_URL}api/phones${url}.json`)\n    .then((response) => {\n      return response.json();\n    });\n};\n\nconst getPhones = () => request();\n\nconst getPhonesDetails = (phoneUrl) => request(`/${phoneUrl}`);\n\ngetPhones()\n  .then(data => {\n    if (!data.ok) {\n      setTimeout(() => {\n        return Error(`${data.status} - not found`);\n      }, 5000);\n    }\n\n    data.map(phone => {\n      getPhonesDetails(phone.id)\n        .then(phoneDetails => {\n          table.insertAdjacentHTML('beforeend',\n            `<tr>\n              <td>${phoneDetails.id})</td>\n              <td>${phoneDetails.android.os}</td>\n              <td><img src=${BASE_URL}${phoneDetails.images[0]}></td>\n            </tr>\n          `);\n        });\n    });\n  });\n"]}